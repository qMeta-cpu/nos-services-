<!-- Services tiles — scale 10%, grayscale->color, CTA ring->solid blue + arrow switch (centered titles) -->
<div id="tiles-services"></div>
<script>
(function(){
  const mount = document.getElementById("tiles-services");
  if(!mount) return;
  const root = mount.attachShadow({mode:"open"});

  root.innerHTML = `
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Instrument+Sans:wght@400;600;700&display=swap');

    :host{all:initial}
    .wrap{font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; color:#fff}
    .section{width:100%; margin:0 auto; overflow:hidden}

    .grid{ display:grid; grid-template-columns:repeat(4,1fr); }
    @media (max-width:1200px){ .grid{grid-template-columns:repeat(2,1fr);} }
    @media (max-width:640px){ .grid{grid-template-columns:1fr;} }

    .tile{
      position:relative; min-height:550px; overflow:hidden; isolation:isolate;
      transform: scale(1);
      transition: transform .45s ease, filter .35s ease;
      will-change: transform, filter;
    }
    .tile:hover{ transform: scale(1.1); z-index:2; }

    .bg{
      position:absolute; inset:0; background-size:cover; background-position:center;
      filter: grayscale(1) saturate(.5) brightness(.75);
      transform: scale(1.02);
      transition: transform .5s ease, filter .4s ease;
      will-change: transform, filter;
    }
    /* <= seulement les tuiles non survolées restent en N&B quand la grille est hover */
    .grid:hover .tile:not(:hover) .bg{ filter: grayscale(1) saturate(.4) brightness(.65); }
    .tile:hover .bg{ filter: none; transform: scale(1.08); }

    .shade{
      position:absolute; inset:0;
      background: linear-gradient(0deg, rgba(0,0,0,.45), rgba(0,0,0,.25));
      mix-blend-mode: multiply; pointer-events:none;
      transition: opacity .35s ease;
    }
    .tile:hover .shade{ opacity:.15; }

    /* ---- TITRES CENTRÉS ---- */
    .content{
      position:absolute; inset:0;
      display:grid; place-items:center;
      padding: 0 clamp(16px,4vw,40px);
      text-align:center;
      z-index:2;
    }
    .title{
      font-family:'Instrument Sans', sans-serif;
      font-weight:700;
      font-size: clamp(22px, 2.6vw, 44px);
      line-height:1.05;
      text-shadow: 0 2px 6px rgba(0,0,0,.35);
      margin:0;
      max-width: 90%;
    }

    /* --- CTA ajusté --- */
    .cta{
      position:absolute; left:50%; bottom:40px; transform: translate(-50%, 0);
      width:56px; height:56px; border-radius:50%;
      display:grid; place-items:center;
      background: transparent;
      border: 2px solid rgba(255,255,255,0.7);
      color:#fff; font-size:22px; font-weight:700;
      transition: background .3s ease, border-color .3s ease, box-shadow .3s ease, transform .3s ease, bottom .3s ease;
      z-index:2;
    }
    .tile:hover .cta{
      background:#2836b1;
      border-color:#2836b1;
      box-shadow:0 8px 24px rgba(40,54,177,.4);
      bottom:46px;
    }
    .cta:hover{ transform: translate(-50%, -2px) scale(1.05); }

    /* flèches */
    .arrow{ position:absolute; transition: opacity .25s ease; }
    .arrow-diag{ opacity:1; }
    .arrow-right{ opacity:0; }
    .tile:hover .arrow-diag{ opacity:0; }
    .tile:hover .arrow-right{ opacity:1; }

    .link{ position:absolute; inset:0; z-index:3 }
  </style>

  <section class="wrap section">
    <div class="grid">
      <article class="tile">
        <div class="bg" style="background-image:url('https://orexlab.com/wp-content/uploads/2025/09/9da8b458-1e49-4015-b461-50329e5c67db.webp');"></div>
        <div class="shade"></div>
        <div class="content"><h3 class="title">Terrasse</h3></div>
        <div class="cta" aria-hidden="true">
          <span class="arrow arrow-diag">↗︎</span>
          <span class="arrow arrow-right">→</span>
        </div>
        <a class="link" href="#"></a>
      </article>

      <article class="tile">
        <div class="bg" style="background-image:url('https://orexlab.com/wp-content/uploads/2025/09/8773431d-add8-4edc-9c96-559405e6fd1f.webp');"></div>
        <div class="shade"></div>
        <div class="content"><h3 class="title">Toiture</h3></div>
        <div class="cta" aria-hidden="true">
          <span class="arrow arrow-diag">↗︎</span>
          <span class="arrow arrow-right">→</span>
        </div>
        <a class="link" href="/services/architecture"></a>
      </article>

      <article class="tile">
        <!-- Remplace par l'URL DIRECTE du média (exemple ci-dessous) -->
        <div class="bg" style="background-image:url('https://orexlab.com/wp-content/uploads/2025/09/ChatGPT-Image-6-sept.-2025-18_42_31.webp');"></div>
        <div class="shade"></div>
        <div class="content"><h3 class="title">Carports</h3></div>
        <div class="cta" aria-hidden="true">
          <span class="arrow arrow-diag">↗︎</span>
          <span class="arrow arrow-right">→</span>
        </div>
        <a class="link" href="#"></a>
      </article>

      <article class="tile">
        <div class="bg" style="background-image:url('https://orexlab.com/wp-content/uploads/2025/09/ChatGPT-Image-6-sept.-2025-14_11_19.webp');"></div>
        <div class="shade"></div>
        <div class="content"><h3 class="title">Mobilier Urbain</h3></div>
        <div class="cta" aria-hidden="true">
          <span class="arrow arrow-diag">↗︎</span>
          <span class="arrow arrow-right">→</span>
        </div>
        <a class="link" href="/services/interior-design"></a>
      </article>
    </div>
  </section>
  `;
})();
</script>
